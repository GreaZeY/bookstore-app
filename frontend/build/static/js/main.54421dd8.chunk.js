(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var s=a(3),r=a(0),n=a(21),c=a.n(n),i=(a(79),a(15)),o=a(10),l=a(7),u=(a(80),a(8)),j=a(6),d=a.n(j),b=a(12),p="LOGIN_REQUEST",O="LOGIN_SUCCESS",h="LOGIN_FAIL",m="REGISTER_USER_REQUEST",f="REGISTER_USER_SUCCESS",x="REGISTER_USER_FAIL",v="LOAD_USER_REQUEST",g="LOAD_USER_SUCCESS",y="LOAD_USER_FAIL",S="LOGOUT_SUCCESS",w="LOGOUT_FAIL",E="UPDATE_PROFILE_REQUEST",k="UPDATE_PROFILE_SUCCESS",N="UPDATE_PROFILE_RESET",_="UPDATE_PROFILE_FAIL",R="UPDATE_PASSWORD_REQUEST",C="UPDATE_PASSWORD_SUCCESS",T="UPDATE_PASSWORD_RESET",A="UPDATE_PASSWORD_FAIL",U="FORGOT_PASSWORD_REQUEST",P="FORGOT_PASSWORD_SUCCESS",F="FORGOT_PASSWORD_FAIL",L="RESET_PASSWORD_REQUEST",D="RESET_PASSWORD_SUCCESS",I="RESET_PASSWORD_FAIL",B="UPDATE_USER_REQUEST",W="UPDATE_USER_SUCCESS",q="UPDATE_USER_RESET",M="UPDATE_USER_FAIL",Q="DELETE_USER_REQUEST",G="DELETE_USER_SUCCESS",V="DELETE_USER_FAIL",Y="DELETE_USER_RESET",H="CLEAR_ERRORS",K=a(17),J=a.n(K),Z=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v}),e.next=4,J.a.get("/api/v1/me");case 4:a=e.sent,s=a.data,t({type:g,payload:s.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:y,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},z=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.get("/api/v1/logout");case 3:t({type:S}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:w,payload:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},X=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:H});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=a(13),ee=a(59),te=a.n(ee),ae=a(60),se=a.n(ae),re=a(61),ne=a.n(re),ce=a(1),ie=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=(t[0],t[1],Object(o.f)()),s=Object($.d)(),n=Object(u.b)(),c=Object(u.c)((function(e){return e.user})),j=c.isAuthenticated,d=c.user;Object(r.useEffect)((function(){n(Z())}),[a,n]);return Object(ce.jsxs)("div",{className:"header",children:[Object(ce.jsx)("div",{className:"left",children:Object(ce.jsxs)(i.b,{to:"/",children:[Object(ce.jsx)("img",{draggable:"false",src:"/images/logo.png",alt:"Bookstore"}),Object(ce.jsx)("h1",{children:"Bookstore"})]})}),Object(ce.jsxs)("div",{className:"navlinks",children:[Object(ce.jsx)(i.b,{to:"/books",children:"Browse\xa0Books"}),Object(ce.jsx)(i.b,{to:"/wishlist",children:"Wishlist"}),j?Object(ce.jsxs)("div",{className:"profile",children:[Object(ce.jsx)("div",{className:"avatar",children:Object(ce.jsx)(i.b,{to:"/profile",children:Object(ce.jsx)("img",{src:d.avatar.url,alt:d.name})})}),Object(ce.jsxs)("div",{className:"accMenu",children:[Object(ce.jsxs)(i.b,{to:"/profile",children:[Object(ce.jsx)(te.a,{})," Your Profile"]}),Object(ce.jsxs)(i.b,{to:"wishlist",children:[Object(ce.jsx)(se.a,{})," Your Wishlist"]}),Object(ce.jsx)("a",{children:Object(ce.jsxs)("button",{onClick:function(){n(z()),s.success("Logged out Successfully")},children:[Object(ce.jsx)(ne.a,{}),"Logout"]})})]})]}):Object(ce.jsx)(i.b,{to:"/login",children:Object(ce.jsx)("button",{children:"Sign In"})})]})]})},oe=(a(111),function(){return Object(ce.jsx)("div",{class:"loading",children:Object(ce.jsx)("svg",{viewBox:"0 0 80 80",children:Object(ce.jsx)("circle",{id:"test",cx:"40",cy:"40",r:"32"})})})}),le="BOOKS_REQUEST",ue="BOOKS_SUCCESS",je="BOOKS_FAIL",de="ALL_BOOKS_REQUEST",be="ALL_BOOKS_SUCCESS",pe="ALL_BOOKS_FAIL",Oe="FAVORITE_REQUEST",he="FAVORITE_SUCCESS",me="FAVORITE_FAIL",fe="ADD_FAVORITE_REQUEST",xe="ADD_FAVORITE_SUCCESS",ve="ADD_FAVORITE_FAIL",ge="REMOVE_FAVORITE_REQUEST",ye="REMOVE_FAVORITE_SUCCESS",Se="REMOVE_FAVORITE_FAIL",we="CLEAR_ERRORS",Ee=function(e){return function(){var t=Object(b.a)(d.a.mark((function t(a){var s,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:le}),t.next=4,J.a.get("https://api.nytimes.com/svc/books/v3/lists/current/".concat(e,".json?api-key=").concat("s2PAZ9UqjWsYMp6OvakuldwtrYFdAWfo"));case 4:s=t.sent,r=s.data,a({type:ue,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:je,payload:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:we});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=(a(112),function(e){var t=e.book;return Object(ce.jsx)(r.Fragment,{children:Object(ce.jsx)("div",{id:t.id,className:"cardContainer",children:Object(ce.jsxs)("div",{className:"bookCard",children:[Object(ce.jsx)("div",{children:Object(ce.jsx)("img",{dragable:"false",src:t.book_image,alt:t.title})}),Object(ce.jsxs)("div",{className:"info",children:[Object(ce.jsx)("h1",{children:t.title}),Object(ce.jsxs)("p",{style:{fontSize:".9vmax"},children:["by ",Object(ce.jsxs)("span",{children:[" ",t.author]})]})]})]})},t.id)})}),_e=(a(113),a(62)),Re=function(e){var t=e.title;return Object(ce.jsx)(_e.a,{children:Object(ce.jsx)("title",{children:t})})},Ce=(a(114),function(e){var t=e.book,a=Object(u.b)(),s=Object(o.f)(),n=Object(u.c)((function(e){return e.user})),c=n.isAuthenticated,i=n.user;return Object(ce.jsx)(r.Fragment,{children:Object(ce.jsxs)("div",{className:"detailsContainer",children:[Object(ce.jsx)("div",{className:"left",children:Object(ce.jsx)("img",{src:t.book_image,alt:t.title})}),Object(ce.jsxs)("div",{className:"right",children:[Object(ce.jsx)("h1",{children:t.title}),Object(ce.jsxs)("p",{style:{marginTop:"3vmax"},className:"rating",children:[Object(ce.jsx)("b",{children:"Author"}),": ",t.author]}),Object(ce.jsxs)("p",{className:"rating",children:[Object(ce.jsx)("b",{children:"Rank"})," : ",t.rank]}),Object(ce.jsxs)("p",{className:"rating",children:[Object(ce.jsx)("b",{children:"Last week's Rank"})," : ",t.rank_last_week?t.rank_last_week:"Not Ranked"]}),Object(ce.jsx)("p",{className:"tagline",children:t.tagline&&t.tagline}),Object(ce.jsx)("h2",{children:"Description"}),Object(ce.jsx)("p",{children:t.description}),Object(ce.jsx)("h1",{style:{marginTop:"2vmax"},children:"Price"}),Object(ce.jsx)("button",{style:{marginRight:"2vmax",width:"8vmax"},className:"wishlist",children:"Buy"}),Object(ce.jsx)("button",{className:"wishlist",onClick:function(){if(!c)return s.push("/login?redirect=wishlisht");console.log("clicked",i.name),a(function(e,t){return function(){var a=Object(b.a)(d.a.mark((function a(s){var r,n,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s({type:fe}),r={headers:{"Content-Type":"application/json"}},console.log(e,t),a.next=7,J.a.post("/api/v1/addtowishlist",{userId:e,book:t},r);case 7:n=a.sent,c=n.data,s({type:xe,payload:c}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),s({type:ve,payload:a.t0.response.data.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(i._id,{isbn:t.primary_isbn13,title:t.title,bookCover:t.book_image,author:t.author}))},children:"Add to wishlisht"}),Object(ce.jsxs)("p",{style:{marginTop:"2vmax"},className:"rating",children:[Object(ce.jsx)("b",{children:"ISBN"})," : ",t.primary_isbn13]}),Object(ce.jsx)("h2",{children:"Compare on Other sites"}),Object(ce.jsx)("ul",{children:t.buy_links.map((function(e){return Object(ce.jsx)("li",{children:Object(ce.jsx)("a",{href:e.url,target:"_blank",children:e.name})})}))})]})]})})}),Te=a(42),Ae=function(){var e=Object($.d)(),t=Object(u.b)(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),n=s[0],c=s[1],o=Object(u.c)((function(e){return e.books})),j=o.loading,p=o.error,O=o.books;Object(r.useEffect)((function(){p&&(e.error(p),t(ke())),t(Ee("Hardcover-Fiction")),console.log("home")}),[t,p,e]);var h=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==n.status){e.next=7;break}return e.next=3,O.filter((function(e){return e.primary_isbn10===t}));case 3:a=e.sent,c({status:!0,book:a[0]}),e.next=8;break;case 7:c({status:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(ce.Fragment,{children:n.status?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Re,{title:n.book.title}),Object(ce.jsx)(Te.a,{onClick:function(){return c({status:!1})},className:"back"}),Object(ce.jsx)(Ce,{book:n.book})]}):Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsx)(Re,{title:"Bookstore"}),Object(ce.jsx)(i.b,{to:"/books",children:Object(ce.jsx)("img",{draggable:"false",className:"CarouselImage",src:"images/1.webp",alt:"banner"})}),Object(ce.jsxs)("div",{className:"slogan",children:[Object(ce.jsx)("h1",{children:" Selling books means giving life to someone."}),"The perfect gift for every book lover on your list, including you. \ud83d\udcda"]}),Object(ce.jsxs)("div",{className:"discover",children:[Object(ce.jsx)("h1",{children:"Best Seller"}),Object(ce.jsx)("div",{className:"bookContainer",children:O&&O.map((function(e){return Object(ce.jsx)("div",{onClick:function(){return h(e.primary_isbn10)},children:Object(ce.jsx)(Ne,{book:e})},e.primary_isbn10)}))})]}),Object(ce.jsx)("div",{className:"loader",children:j?Object(ce.jsx)(oe,{}):""})]})})},Ue=a(16),Pe=(a(115),a(36)),Fe=a.n(Pe),Le=a(28),De=a.n(Le),Ie=a(66),Be=a.n(Ie),We=a(65),qe=a.n(We),Me=(a(116),function(){var e=Object(u.b)(),t=Object($.d)(),a=Object(u.c)((function(e){return e.forgotPassword})),s=a.error,n=a.message,c=a.loading,i=Object(r.useState)(""),o=Object(l.a)(i,2),j=o[0],p=o[1];return Object(r.useEffect)((function(){s&&(t.error(s),e(X())),n&&t.success(n)}),[e,s,t,n]),Object(ce.jsx)(r.Fragment,{children:c?Object(ce.jsx)("div",{className:"LoadingBackdrop",children:Object(ce.jsx)(oe,{})}):Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsx)(Re,{title:"Forgot Password"}),Object(ce.jsxs)("div",{className:"forgotPasswordBox",children:[Object(ce.jsx)("h2",{className:"forgotPasswordHeading",children:"Forgot Password"}),Object(ce.jsxs)("form",{className:"forgotPasswordForm",onSubmit:function(t){t.preventDefault();var a=new FormData;a.set("email",j),e(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(a){var s,r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:U}),s={headers:{"Content-Type":"application/json"}},t.next=5,J.a.post("/api/v1/password/forgot",e,s);case 5:r=t.sent,n=r.data,a({type:P,payload:n.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:F,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(a))},children:[Object(ce.jsxs)("div",{className:"forgotPasswordEmail",children:[Object(ce.jsx)(Fe.a,{}),Object(ce.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(ce.jsx)("input",{type:"submit",value:"Send",className:"forgotPasswordBtn"})]})]})]})})}),Qe=function(e){var t=e.history,a=e.location,n=Object(u.b)(),c=Object($.d)();Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]);var i=Object(u.c)((function(e){return e.user})),o=i.error,j=i.loading,v=i.isAuthenticated,g=Object(r.useRef)(null),y=Object(r.useRef)(null),S=Object(r.useRef)(null),w=Object(r.useState)(""),E=Object(l.a)(w,2),k=E[0],N=E[1],_=Object(r.useState)(""),R=Object(l.a)(_,2),C=R[0],T=R[1],A=Object(r.useState)({name:"",email:"",password:"",mobileNo:""}),U=Object(l.a)(A,2),P=U[0],F=U[1],L=P.name,D=P.email,I=P.password,B=P.mobileNo,W=Object(r.useState)(void 0),q=Object(l.a)(W,2),M=q[0],Q=q[1],G=Object(r.useState)("/images/Profile.png"),V=Object(l.a)(G,2),Y=V[0],H=V[1],K=Object(r.useState)(!1),Z=Object(l.a)(K,2),z=Z[0],ee=Z[1],te=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&t.result&&(H(t.result),Q(t.result))},e.target.files[0]&&t.readAsDataURL(e.target.files[0])}else F(Object(s.a)(Object(s.a)({},P),{},Object(Ue.a)({},e.target.name,e.target.value)))},ae=a.search?a.search.split("=")[1]:null;Object(r.useEffect)((function(){o&&("Duplicate email Entered."===o?c.error("A user is already registered with this email"):c.error(o),n(X())),v&&(ae?t.push(ae):window.history.back())}),[n,o,c,t,v,ae]);var se=function(e,t){"login"===t&&(S.current.classList.add("shiftToNeutral"),S.current.classList.remove("shiftToRight"),document.title="Login",y.current.classList.remove("shiftToNeutralForm"),g.current.classList.remove("shiftToLeft")),"register"===t&&(S.current.classList.add("shiftToRight"),S.current.classList.remove("shiftToNeutral"),document.title="Register",y.current.classList.add("shiftToNeutralForm"),g.current.classList.add("shiftToLeft"))};return Object(ce.jsx)(r.Fragment,{children:j?Object(ce.jsx)("div",{className:"LoadingBackdrop",children:Object(ce.jsx)(oe,{})}):Object(ce.jsx)(r.Fragment,{children:Object(ce.jsx)("div",{className:"LoginSignUpContainer",children:z?Object(ce.jsx)(Me,{}):Object(ce.jsxs)("div",{className:"LoginSignUpBox",children:[Object(ce.jsx)(Re,{title:"Login"}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"login_signUp_toggle",children:[Object(ce.jsx)("p",{onClick:function(e){return se(0,"login")},children:"LOGIN"}),Object(ce.jsx)("p",{onClick:function(e){return se(0,"register")},children:"REGISTER"})]}),Object(ce.jsx)("button",{ref:S})]}),Object(ce.jsxs)("form",{className:"loginForm",ref:g,onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var a=Object(b.a)(d.a.mark((function a(s){var r,n,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s({type:p}),r={headers:{"Content-Type":"application/json"}},a.next=5,J.a.post("/api/v1/login",{email:e,password:t},r);case 5:n=a.sent,c=n.data,s({type:O,payload:c.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),s({type:h,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(k,C))},children:[Object(ce.jsxs)("div",{className:"loginEmail",children:[Object(ce.jsx)(Fe.a,{}),Object(ce.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:k,onChange:function(e){return N(e.target.value)}})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(De.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:C,onChange:function(e){return T(e.target.value)}})]}),Object(ce.jsx)("p",{className:"forgot",onClick:function(){return ee(!0)},children:"Forgot Password?"}),Object(ce.jsx)("input",{type:"submit",value:"Login",className:"loginBtn"})]}),Object(ce.jsxs)("form",{className:"signUpForm",ref:y,encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",L),a.set("email",D),a.set("mobileNo",B),a.set("password",I),M&&a.set("avatar",M),n((t=a,function(){var e=Object(b.a)(d.a.mark((function e(a){var s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:m}),s={headers:{"Content-Type":"multipart/form-data"}},e.next=5,J.a.post("/api/v1/register",t,s);case 5:r=e.sent,n=r.data,a({type:f,payload:n.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:x,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ce.jsxs)("div",{className:"signUpName",children:[Object(ce.jsx)(qe.a,{}),Object(ce.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:L,onChange:te})]}),Object(ce.jsxs)("div",{className:"signUpEmail",children:[Object(ce.jsx)(Fe.a,{}),Object(ce.jsx)("input",{type:"email",placeholder:"Email",required:!0,name:"email",value:D,onChange:te})]}),Object(ce.jsxs)("div",{className:"signUpMobileNo",children:[Object(ce.jsx)(Be.a,{}),Object(ce.jsx)("input",{type:"Number",placeholder:"Mobile no.",required:!0,name:"mobileNo",value:B,onChange:te})]}),Object(ce.jsxs)("div",{className:"signUpPassword",children:[Object(ce.jsx)(De.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"Password",required:!0,name:"password",value:I,onChange:te})]}),Object(ce.jsxs)("div",{id:"registerImage",children:[Object(ce.jsx)("img",{src:Y,alt:"Avatar Preview"}),Object(ce.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:te})]}),Object(ce.jsx)("input",{type:"submit",value:"Register",className:"signUpBtn"})]})]})})})})},Ge=a(72),Ve=["component"],Ye=function(e){var t=e.component,a=Object(Ge.a)(e,Ve),n=Object(u.c)((function(e){return e.user})),c=n.loading,i=n.isAuthenticated;return Object(ce.jsx)(r.Fragment,{children:!1===c&&Object(ce.jsx)(o.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return i?Object(ce.jsx)(t,Object(s.a)({},e)):Object(ce.jsx)(o.a,{to:"/login"})}}))})},He=(a(118),a(119),a(68)),Ke=a.n(He),Je=a(40),Ze=a.n(Je),ze=a(67),Xe=a.n(ze),$e=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)(!1),c=Object(l.a)(n,2),o=c[0],j=c[1],p=Object(r.useState)(""),O=Object(l.a)(p,2),h=O[0],m=O[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1],y=Object(r.useState)(),S=Object(l.a)(y,2),w=S[0],T=S[1],U=Object(r.useState)(""),P=Object(l.a)(U,2),F=P[0],L=P[1],D=Object(r.useState)(""),I=Object(l.a)(D,2),B=I[0],W=I[1],q=Object(r.useState)("/Profile.png"),M=Object(l.a)(q,2),Q=M[0],G=M[1],V=Object(r.useState)(""),Y=Object(l.a)(V,2),H=Y[0],K=Y[1],ee=Object(r.useState)(""),te=Object(l.a)(ee,2),ae=te[0],se=te[1],re=Object(r.useState)(""),ne=Object(l.a)(re,2),ie=ne[0],le=ne[1],ue=Object(u.c)((function(e){return e.user})),je=ue.user,de=ue.loading,be=(ue.isAuthenticated,Object(u.c)((function(e){return e.profile}))),pe=be.error,Oe=be.isUpdated,he=be.loading,me=Object(u.b)(),fe=Object($.d)();Object(r.useEffect)((function(){je&&(m(je.name),g(je.email),G(je.avatar.url),L(je.mobileNo)),pe&&(fe.error(pe),me(X())),Oe&&(fe.success(B),me(Z()),me({type:N}))}),[me,pe,fe,je,Oe,B]);return Object(ce.jsx)(r.Fragment,{children:de|he?Object(ce.jsx)("div",{className:"LoadingBackdrop",children:Object(ce.jsx)(oe,{})}):Object(ce.jsx)("div",{children:je?Object(ce.jsxs)("div",{className:"profileContainer",children:[Object(ce.jsx)(Re,{title:"".concat(je.name,"'s Profile")}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h1",{children:"My Profile"}),a?Object(ce.jsxs)("div",{class:"profile-pic",children:[Object(ce.jsx)("label",{class:"-label",for:"file",children:Object(ce.jsx)(Xe.a,{})}),Object(ce.jsx)("input",{id:"file",type:"file",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(G(t.result),T(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(ce.jsx)("img",{src:Q,alt:je.name})]}):Object(ce.jsx)("img",{src:je.avatar?je.avatar.url:"",alt:je.name}),a?Object(ce.jsx)("button",{onClick:function(){if(h===je.name&&v===je.email&&F===je.mobileNo&&Q===je.avatar.url)fe.error("Nothing has changed.");else{var e=new FormData;e.set("name",h),e.set("email",v),e.set("avatar",w),e.set("mobileNo",F),me((t=e,function(){var e=Object(b.a)(d.a.mark((function e(a){var s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:E}),s={headers:{"Content-Type":"multipart/form-data"}},e.next=5,J.a.put("/api/v1/me/update",t,s);case 5:r=e.sent,n=r.data,a({type:k,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:_,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),W("Profile Updated Successfully")}var t},className:"update",style:{background:"rgb(34, 223, 175)"},children:"Update"}):o?"":Object(ce.jsx)("button",{onClick:function(){s(!0)},className:"update",children:"Edit Profile"}),Object(ce.jsx)("button",{onClick:a|o?function(){s(!1),j(!1)}:function(){me(z()),fe.success("Logged out Successfully")},className:"logout",children:a|o?"Cancel":"Logout"})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h4",{children:"Full Name"}),a?Object(ce.jsx)("input",{className:"updateInfo",type:"text",placeholder:"Name",required:!0,name:"name",value:h,onChange:function(e){return m(e.target.value)}}):Object(ce.jsx)("p",{children:je.name})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h4",{children:"Email"}),a?Object(ce.jsx)("input",{className:"updateInfo",type:"email",placeholder:"Email",required:!0,name:"email",value:v,onChange:function(e){return g(e.target.value)}}):Object(ce.jsx)("p",{children:je.email})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h4",{children:"Mobile No."}),a?Object(ce.jsx)("input",{className:"updateInfo",type:"Number",placeholder:"Mobile No.",required:!0,name:"mobileNo",value:F,onChange:function(e){return L(e.target.value)}}):Object(ce.jsx)("p",{children:je.mobileNo?je.mobileNo:"-"})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h4",{children:"Joined On"}),Object(ce.jsx)("p",{children:String(je.createdAt).substr(0,10)})]}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(i.b,{to:"/wishlist",children:"My Wishlist"}),o?Object(ce.jsxs)("form",{className:"updatePasswordForm",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("oldPassword",H),a.set("newPassword",ae),a.set("confirmPassword",ie),me((t=a,function(){var e=Object(b.a)(d.a.mark((function e(a){var s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:R}),s={headers:{"Content-Type":"application/json"}},e.next=5,J.a.put("/api/v1/password/update",t,s);case 5:r=e.sent,n=r.data,a({type:C,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:A,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),W("Password updated successfully")},children:[Object(ce.jsxs)("div",{className:"loginPassword",children:[Object(ce.jsx)(Ke.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"Old Password",required:!0,value:H,onChange:function(e){return K(e.target.value)}})]}),Object(ce.jsxs)("div",{className:"loginPassword",children:[Object(ce.jsx)(De.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"New Password",required:!0,value:ae,onChange:function(e){return se(e.target.value)}})]}),Object(ce.jsxs)("div",{className:"loginPassword",children:[Object(ce.jsx)(Ze.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"Confirm Password",required:!0,value:ie,onChange:function(e){return le(e.target.value)}})]}),Object(ce.jsx)("button",{className:"update",style:{margin:0,marginTop:"1vmax",width:"100%",background:"rgb(34, 223, 175)"},type:"submit",children:"Update Password"})]}):"",o||a?"":Object(ce.jsx)("button",{onClick:function(){return j(!0)},className:"update",style:{color:"white",width:"100%",background:"rgb(68, 68, 68)",margin:0,marginTop:"1.2vmax"},children:"Change Password"})]})]})]}):""})})},et=(a(120),function(e){var t=e.history,a=e.match,s=Object(u.b)(),n=Object($.d)(),c=Object(u.c)((function(e){return e.forgotPassword})),i=c.error,o=c.success,j=c.loading,p=Object(r.useState)(""),O=Object(l.a)(p,2),h=O[0],m=O[1],f=Object(r.useState)(""),x=Object(l.a)(f,2),v=x[0],g=x[1];return Object(r.useEffect)((function(){i&&(n.error(i),s(X())),o&&(n.success("Password Updated Successfully"),s(Z()),t.push("/"))}),[s,i,n,t,o]),Object(ce.jsx)(r.Fragment,{children:j?Object(ce.jsx)("div",{className:"LoadingBackdrop",children:Object(ce.jsx)(oe,{})}):Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsx)(Re,{title:"Change Password"}),Object(ce.jsx)("div",{className:"resetPasswordContainer",children:Object(ce.jsxs)("div",{className:"resetPasswordBox",children:[Object(ce.jsx)("h2",{className:"resetPasswordHeading",children:"Update Password"}),Object(ce.jsxs)("form",{className:"resetPasswordForm",onSubmit:function(e){e.preventDefault();var t,r,n=new FormData;n.set("password",h),n.set("confirmPassword",v),s((t=a.params.token,r=n,function(){var e=Object(b.a)(d.a.mark((function e(a){var s,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:L}),s={headers:{"Content-Type":"application/json"}},e.next=5,J.a.put("/api/v1/password/reset/".concat(t),r,s);case 5:n=e.sent,c=n.data,a({type:D,payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:I,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(ce.jsxs)("div",{className:"loginPassword",children:[Object(ce.jsx)(De.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"New Password",required:!0,value:h,onChange:function(e){return m(e.target.value)}})]}),Object(ce.jsxs)("div",{className:"loginPassword",children:[Object(ce.jsx)(Ze.a,{}),Object(ce.jsx)("input",{type:"password",placeholder:"Confirm Password",required:!0,value:v,onChange:function(e){return g(e.target.value)}})]}),Object(ce.jsx)("input",{type:"submit",value:"Update",className:"resetPasswordBtn"})]})]})})]})})}),tt=(a(121),a(149)),at=function(){var e=Object($.d)(),t=Object(u.b)(),a=Object(r.useState)(!1),s=Object(l.a)(a,2),n=s[0],c=s[1],i=Object(u.c)((function(e){return e.allBooks})),o=i.loading,j=i.error,p=i.allBooks,O=Object(u.c)((function(e){return e.books})),h=O.loading,m=(O.error,O.books);Object(r.useEffect)((function(){var a;j&&(e.error(j),t(ke())),t((a="names",function(){var e=Object(b.a)(d.a.mark((function e(t){var s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),e.next=4,J.a.get("https://api.nytimes.com/svc/books/v3/lists/".concat(a,".json?api-key=").concat("s2PAZ9UqjWsYMp6OvakuldwtrYFdAWfo"));case 4:s=e.sent,r=s.data,t({type:be,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:pe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),t(Ee("manga"))}),[t,j,e]);var f=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==n.status){e.next=7;break}return e.next=3,m.filter((function(e){return e.primary_isbn10===t}));case 3:a=e.sent,c({status:!0,book:a[0]}),e.next=8;break;case 7:c({status:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(ce.Fragment,{children:n.status?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Re,{title:n.book.title}),Object(ce.jsx)(Te.a,{onClick:function(){return c({status:!1})},className:"back"}),Object(ce.jsx)(Ce,{book:n.book})]}):Object(ce.jsx)(r.Fragment,{children:Object(ce.jsxs)("div",{className:"booksbox",children:[Object(ce.jsx)(Re,{title:"Books"}),Object(ce.jsx)("div",{className:"filterBox",children:Object(ce.jsxs)("div",{className:"filterh1",children:[Object(ce.jsx)(tt.a,{style:{marginBottom:"2.5vmax"},children:"Browse by Categories"}),Object(ce.jsx)("div",{onClick:function(e){var a=e.target.innerHTML.replace(" ","-");t(Ee(a))},className:"categories",children:o?Object(ce.jsx)("div",{class:"load",children:o&&Object(ce.jsx)(oe,{})}):p&&p.map((function(e){return Object(ce.jsx)("p",{children:e.list_name},e.list_name)}))})]})}),Object(ce.jsxs)("div",{className:"search",children:[m?Object(ce.jsx)("h2",{className:"booksHeading",children:"Books"}):Object(ce.jsx)("h2",{className:"booksHeading",children:"Currently no book is in the stock under this category :("}),Object(ce.jsx)("div",{className:"books",children:m&&m.map((function(e){return Object(ce.jsx)("div",{onClick:function(){return f(e.primary_isbn10)},children:Object(ce.jsx)(Ne,{book:e})},e.primary_isbn10)}))}),Object(ce.jsx)("div",{class:"load",children:h&&Object(ce.jsx)(oe,{})})]})]})})})},st=(a(122),function(){var e=Object(u.b)(),t=Object($.d)(),a=Object(u.c)((function(e){return e.wishlist})),s=(a.loading,a.error),n=a.wishlist,c=Object(u.c)((function(e){return e.user})),i=c.isAuthenticated,o=c.user;Object(r.useEffect)((function(){var a;i&&(s&&(t.error(s),e(ke())),e((a=o._id,function(){var e=Object(b.a)(d.a.mark((function e(t){var s,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),s={headers:{"Content-Type":"application/json"}},e.next=6,J.a.post("/api/v1/getwishlist",{userId:a},s);case 6:r=e.sent,n=r.data,t({type:he,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:me,payload:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))}),[e,s,t,i]);var l=function(t){e(function(e,t){return function(){var a=Object(b.a)(d.a.mark((function a(s){var r,n,c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s({type:ge}),r={headers:{"Content-Type":"application/json"}},a.next=6,J.a.post("/api/v1/remfromwishlist",{userId:e,isbn:t},r);case 6:n=a.sent,c=n.data,s({type:ye,payload:c}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),s({type:Se,payload:a.t0.response.data.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o._id,t))};return Object(ce.jsxs)("div",{className:"wishlist",children:[Object(ce.jsx)("div",{className:"top"}),Object(ce.jsxs)("div",{className:"wishlistContainer",children:[Object(ce.jsx)(Re,{title:"My wishlist"}),Object(ce.jsx)("div",{className:"index",children:Object(ce.jsx)("h1",{children:"Your Wishlist"})}),n&&0!==n.length?n.map((function(e){return Object(ce.jsxs)("div",{className:"citems",children:[Object(ce.jsx)("a",{href:"/product",children:Object(ce.jsx)("img",{draggable:"false",src:e.bookCover,alt:e.title})}),Object(ce.jsxs)("div",{className:"right",children:[Object(ce.jsx)("a",{href:"/product",children:Object(ce.jsx)("h1",{children:e.title})}),Object(ce.jsxs)("p",{children:["Author : ",e.author]}),Object(ce.jsxs)("div",{className:"block",children:[Object(ce.jsx)("span",{children:"In stock"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("button",{onClick:function(){return l(e.isbn)},children:"Delete"},e.id)]})]})]},e.isbn)})):Object(ce.jsx)("p",{children:"You wishlist is empty :("})]})]})});var rt=function(){return Object(ce.jsxs)(i.a,{children:[Object(ce.jsx)(ie,{}),Object(ce.jsx)(o.b,{exact:!0,path:"/",component:Ae}),Object(ce.jsx)(o.b,{exact:!0,path:"/login",component:Qe}),Object(ce.jsx)(Ye,{exact:!0,path:"/profile",component:$e}),Object(ce.jsx)(Ye,{exact:!0,path:"/wishlist",component:st}),Object(ce.jsx)(o.b,{exact:!0,path:"/password/reset/:token",component:et}),Object(ce.jsx)(o.b,{exact:!0,path:"/books",component:at})]})},nt=a(37),ct=a(70),it=a(69),ot=Object(nt.combineReducers)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{books:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return{loading:!0,books:[]};case ue:return{loading:!1,books:t.payload.results.books};case je:return{loading:!1,error:t.payload};case we:return Object(s.a)(Object(s.a)({},e),{},{errors:null});default:return e}},allBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allBooks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(s.a)({loading:!0,allBooks:[]},e);case be:return{loading:!1,allBooks:t.payload.results};case pe:return{loading:!1,error:t.payload};case we:return Object(s.a)(Object(s.a)({},e),{},{errors:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case m:case v:return{loading:!0,isAuthenticated:!1};case O:case f:case g:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case S:return{loading:!1,user:null,isAuthenticated:!1};case h:case x:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case y:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case w:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});case H:return Object(s.a)(Object(s.a)({},e),{},{error:null});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case R:case B:case Q:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case k:case C:case W:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,isUpdated:t.payload});case G:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,isDeleted:t.payload.success,message:t.payload.message});case _:case A:case M:case V:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});case N:case T:case q:return Object(s.a)(Object(s.a)({},e),{},{isUpdated:!1});case Y:return Object(s.a)(Object(s.a)({},e),{},{isDeleted:!1});case H:return Object(s.a)(Object(s.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case L:return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:null});case P:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,message:t.payload});case D:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,success:t.payload});case F:case I:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:t.payload});case H:return Object(s.a)(Object(s.a)({},e),{},{error:null});default:return e}},wishlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{wishlist:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:case fe:case ge:return Object(s.a)({loading:!0},e);case he:case xe:case ye:return{loading:!1,wishlist:t.payload.wishlist};case me:case ve:case Se:return{loading:!1,error:t.payload};case we:return Object(s.a)(Object(s.a)({},e),{},{errors:null});default:return e}}}),lt=[ct.a],ut=Object(nt.createStore)(ot,{},Object(it.composeWithDevTools)(nt.applyMiddleware.apply(void 0,lt))),jt=a(71),dt={timeout:5e3,position:$.b.BOTTOM_CENTER,transition:$.c.SCALE};c.a.render(Object(ce.jsx)(u.a,{store:ut,children:Object(ce.jsx)($.a,Object(s.a)(Object(s.a)({template:jt.a},dt),{},{children:Object(ce.jsx)(rt,{})}))}),document.getElementById("root"))},79:function(e,t,a){},80:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.54421dd8.chunk.js.map